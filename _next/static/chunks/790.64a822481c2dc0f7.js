(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{7790:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>D});var a=s(5155),i=s(5565);s(347),s(5685),s(28),s(3386);var l=s(2115);let n=async e=>{try{let t={};t.current={...e.current};let s=await r(e.daily);t.daily=s;let a=await r(e.hourly);return t.hourly=a,console.log("Formatted Data:",t),JSON.stringify(t)}catch(e){console.error("processData error:",e)}},r=async e=>{let t=[],s=Math.max(...Object.values(e).map(e=>e.length));for(let a=0;a<s;a++){let s={};for(let t in e)void 0!==e[t][a]&&(s[t]=e[t][a]);Object.keys(s).length>0&&t.push(s)}return t},o=async e=>{try{let t=await n(e);return JSON.parse(t)}catch(e){console.error("formattedWeatherDataObj error:",e)}},c="/my-next-weather-app";class m{getWeatherCode(e){return this.weatherCodes[e]}constructor(){this.weatherCodes={0:{description:"Clear",image:{day:c+"/images/sun.png",night:c+"/images/nightclear.png"}},1:{description:"Mainly clear",image:{day:c+"/images/cloudy.png",night:c+"/images/nightcloud.png"}},2:{description:"Partly cloudy",image:{day:c+"/images/cloudy.png",night:c+"/images/nightcloud.png"}},3:{description:"Overcast",image:{day:c+"/images/cloud.png",night:c+"/images/cloud.png"}},45:{description:"Fog",image:{day:"/images/fog.png",night:"/images/fog.png"}},48:{description:"Freezing fog",image:{day:"/images/fog.png",night:"/images/fog.png"}},51:{description:"Light drizzle",image:{day:"/images/rainy.png",night:"/images/rainy.png"}},53:{description:"Moderate drizzle",image:{day:"/images/rainy.png",night:"/images/rainy.png"}},55:{description:"Dense drizzle",image:{day:"/images/rainy.png",night:"/images/rainy.png"}},56:{description:"Freezing drizzle",image:{day:"/images/hail.png",night:"/images/hail.png"}},57:{description:"Freezing drizzle",image:{day:"/images/hail.png",night:"/images/hail.png"}},61:{description:"Slight rain",image:{day:"/images/rainy.png",night:"/images/rainy.png"}},63:{description:"Moderate rain",image:{day:"/images/rainy.png",night:"/images/rainy.png"}},65:{description:"Heavy rain",image:{day:"/images/rainy.png",night:"/images/rainy.png"}},66:{description:"Freezing Rain",image:{day:"/images/hail.png",night:"/images/hail.png"}},67:{description:"Freezing rain",image:{day:"/images/hail.png",night:"/images/hail.png"}},71:{description:"Light snow",image:{day:"/images/day-snow.png",night:"/images/nightsnow.png"}},73:{description:"Moderate snow",image:{day:"/images/snowflake.png",night:"/images/snowflake.png"}},75:{description:"Heavy snow",image:{day:"/images/snowflake.png",night:"/images/snowflake.png"}},77:{description:"Snow flurries",image:{day:"/images/snowflake.png",night:"/images/snowflake.png"}},80:{description:"Rain showers",image:{day:"/images/rainy.png",night:"/images/rainy.png"}},81:{description:"Rain showers",image:{day:"/images/rainy.png",night:"/images/rainy.png"}},82:{description:"Rain showers",image:{day:"/images/rainy.png",night:"/images/rainy.png"}},85:{description:"Snow showers",image:{day:"/images/snowflake.png",night:"/images/snowflake.png"}},86:{description:"Snow showers",image:{day:"/images/snowflake.png",night:"/images/snowflake.png"}},95:{description:"Thunderstorm",image:{day:"/images/storm.png",night:"/images/storm.png"}},96:{description:"Thunderstorm (Hail)",image:{day:"/images/stormhail.png",night:"/images/stormhail.png"}},99:{description:"Thunderstorm (Hail)",image:{day:"/images/stormhail.png",night:"/images/stormhail.png"}}}}}window.addEventListener("load",e=>{console.log("All elements, including images and stylesheets, are fully loaded."),console.log("PAGE LOADED!!!!!!!!")});let d=new m,h=e=>["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][new Date(e).getDay()],u=(e,t)=>{let s=e.split("T")[0];return t.filter(e=>e.time.split("T")[0]===s)},g=e=>{let[t]=e.split("T")[1].split(":").map(Number);return"".concat(t%12||12," ").concat(t>=12?"PM":"AM")},p=e=>d.getWeatherCode(e),x=(e,t)=>{try{if(0===e.is_day)return t.image.night;return t.image.day}catch(e){return console.log("getWeatherIcon error:",e),"images/sun.png"}},w=async()=>navigator.geolocation?new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(t=>{e(t)},t=>{console.error("Error getting location:",t),e({coords:{latitude:52.5244,longitude:13.4105}})})}):(console.log("Geolocation is not supported by this browser."),{coords:{latitude:40.7128,longitude:-74.006}}),f=async(e,t)=>{let s="https://nominatim.openstreetmap.org/reverse?lat=".concat(e,"&lon=").concat(t,"&format=json");try{let e=await fetch(s);if(!e.ok)throw Error("Network response was not ok: "+e.statusText);let t=await e.json();return console.log("reverseGeoCode response:",t),t}catch(e){throw console.error("Error fetching reverse geocode:",e),e}},y=async e=>{let t=await fetch("https://nominatim.openstreetmap.org/search?q=".concat(encodeURIComponent(e),"&format=json")),s=await t.json();if(!(s.length>0))return console.log("Location not found."),null;{let{lat:e,lon:t}=s[0];return console.log("Latitude: ".concat(e,", Longitude: ").concat(t)),{coords:{latitude:e,longitude:t}}}},j=async e=>{let t=await fetch(e);if(!t.ok)throw Error("Network response was not ok "+t.statusText);return t.json()},N=(e,t,s)=>{if(localStorage.length<5){if(null!==localStorage.getItem(e)){console.error("Key already exists in local storage:",e),s("Location already saved.");return}localStorage.setItem(e,JSON.stringify(t))}else console.error("Local storage limit reached. Cannot add more items."),s("Maximum number of saved locations reached (5).")},b=e=>{let t=localStorage.getItem(e);return t?JSON.parse(t):null},v=e=>{localStorage.removeItem(e)},_=()=>Object.keys(localStorage).map(e=>({key:e,value:JSON.parse(localStorage.getItem(e))})),S=(0,l.createContext)(),C=(0,l.createContext)(),k=(0,l.createContext)(),I=(0,l.createContext)(),F=(0,l.createContext)(),E=e=>{let{children:t}=e;console.log("ApiContextProvider mounted...");let[s,i]=(0,l.useState)(!0),[n,r]=(0,l.useState)(null),[c,m]=(0,l.useState)(null),[d,h]=(0,l.useState)(null),[u,g]=(0,l.useState)(null),[p,x]=(0,l.useState)([]),[y,N]=(0,l.useState)([]),[b,v]=(0,l.useState)(null),[S,C]=(0,l.useState)(null),[k,I]=(0,l.useState)("imperial"),[E,L]=(0,l.useState)(null),[z,P]=(0,l.useState)(null),[W,D]=(0,l.useState)(()=>_()),T=(0,l.useRef)(!1);return(0,l.useEffect)(()=>{console.log("useEffect running..."),T.current||(T.current=!0,i(!0),(async()=>{try{let e=S||await w();if(console.log("current location:",e),!e){console.error("Could not retrieve location.");return}let t=await f(e.coords.latitude,e.coords.longitude);console.log("location data:",t);let s="https://api.open-meteo.com/v1/forecast?latitude=".concat(e.coords.latitude,"&longitude=").concat(e.coords.longitude,"&current=temperature_2m,relative_humidity_2m,apparent_temperature,is_day,precipitation,weather_code,cloud_cover,surface_pressure,wind_speed_10m,wind_direction_10m&minutely_15=temperature_2m,relative_humidity_2m,apparent_temperature,precipitation,weather_code,visibility,is_day&hourly=temperature_2m,relative_humidity_2m,dew_point_2m,apparent_temperature,precipitation_probability,precipitation,weather_code,cloud_cover,visibility,wind_speed_10m,is_day&daily=weather_code,temperature_2m_max,temperature_2m_min,sunrise,sunset,uv_index_max,precipitation_sum,precipitation_probability_max,wind_speed_10m_max,wind_direction_10m_dominant").concat("imperial"===k?"&temperature_unit=fahrenheit&wind_speed_unit=mph&precipitation_unit=inch":"","&timezone=auto&forecast_days=14&forecast_minutely_15=4"),a=await j(s),i=await o(a),l=t.address.city?t.address.city:t.address.town?t.address.town:t.address.village?t.address.village:t.address.county?t.address.county:t.address.state?t.address.state:null,n={city:l,id:t.osm_type+"-"+t.osm_id,coordinates:{latitude:t.lat,longitude:t.lon},address:{...t.address}};P(n),r(l),g(i.current),N(i.daily),x(i.hourly),v(i.todaysConditions),console.log("api context - state values:","current:",i.current,"daily:",i.daily,"hourly:",i.hourly),"imperial"===k?L({temperature:"\xb0F",windSpeed:"mph",precipitation:"in"}):L({temperature:"\xb0C",windSpeed:"km/h",precipitation:"mm"})}catch(e){m(e.message),console.error("Error fetching data:",e)}finally{i(!1),T.current=!1}})())},[k,S]),(0,a.jsx)(F.Provider,{value:{value:d,location:n,loading:s,error:c,currentWeather:u,hourlyArray:p,dailyArray:y,todaysConditions:b,selectedUnits:k,unitsObj:E,locationToSave:z,savedLocations:W,setSavedLocations:D,setSelectedUnits:I,setUserLocation:C,setError:m},children:t})},L=e=>{let{children:t}=e,[s,i]=(0,l.useState)(!0),[n,r]=(0,l.useState)(!1),[o,c]=(0,l.useState)(!1),[m,d]=(0,l.useState)(!1),[h,u]=(0,l.useState)(!1),[g,p]=(0,l.useState)(null),[x,w]=(0,l.useState)(null);return(0,l.useEffect)(()=>{null!==g?d(!0):d(!1)},[g]),(0,l.useEffect)(()=>{null!==x?u(!0):u(!1)},[x]),(0,a.jsx)(S.Provider,{value:{currentVisible:s,setCurrentVisible:i,dailyVisible:n,setDailyVisible:r,hourlyVisible:o,setHourlyVisible:c,selectedDayObj:g,setSelectedDayObj:p,selectedDayVisible:m,setSelectedDayVisible:d,selectedDayObj:g,setSelectedDayObj:p,selectedHourVisible:h,setSelectedHourVisible:u,selectedHourObj:x,setSelectedHourObj:w},children:t})},z=e=>{let{children:t}=e,{currentWeather:s}=(0,l.useContext)(F),[i,n]=(0,l.useState)(s||[]);return(0,a.jsx)(C.Provider,{value:{value:i,setValue:n},children:t})},P=e=>{let{children:t}=e,{dailyArray:s}=(0,l.useContext)(F),[i,n]=(0,l.useState)(s||[]);return(0,a.jsx)(k.Provider,{value:{dailyData:i},children:t})},W=e=>{let{children:t}=e,{hourlyArray:s}=(0,l.useContext)(F),[i,n]=(0,l.useState)(s||[]);return(0,l.useEffect)(()=>{n(s)},[s]),(0,a.jsx)(I.Provider,{value:{value:i},children:t})};function D(){return(0,a.jsx)("div",{className:"background-container d-flex flex-column min-h-100 w-100 py-0 mb-auto",children:(0,a.jsx)("div",{className:"background-grad flex-fill min-h-100",children:(0,a.jsx)(E,{children:(0,a.jsx)(L,{children:(0,a.jsx)(T,{})})})})})}let T=()=>{let{currentVisible:e,selectedDayVisible:t,selectedHourVisible:s}=(0,l.useContext)(S),{loading:i,location:n,locationToSave:r,setSavedLocations:o,error:c,setError:m}=(0,l.useContext)(F);console.log("error:",c);let d=new Date,h=e=>{N(e.id,e,m),o(()=>_()),console.log("location saved:",localStorage.getItem(e.id))};return i?(0,a.jsx)("div",{className:"d-flex container-fluid text-white justify-content-center align-items-center",style:{width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,1)"},children:(0,a.jsx)("div",{className:"spinner-border text-info",role:"status",style:{width:"10rem",height:"10rem",borderWidth:"0.7rem"},children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,a.jsxs)("main",{className:"d-flex flex-column text-white",children:[c&&(0,a.jsx)("div",{"aria-live":"polite","aria-atomic":"true",className:"bg-dark position-relative bd-example-toasts",children:(0,a.jsx)("div",{className:"toast-container position-absolute p-3 top-0 start-50 translate-middle-x",id:"toastPlacement",children:(0,a.jsx)("div",{className:"toast show bg-danger",children:(0,a.jsxs)("div",{className:"toast-body d-flex flex-row justify-content-between",children:[(0,a.jsx)("div",{className:"d-flex justify-content-between",children:c}),(0,a.jsx)("button",{type:"button",className:"btn-close btn-close-white ms-auto","data-bs-dismiss":"toast",onClick:()=>m(null),"aria-label":"Close"})]})})})}),(0,a.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-center p-3",children:[(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsx)("h2",{className:"mb-2",children:null===n?"Berlin":n}),!t&&!s&&(0,a.jsx)("p",{children:d.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",weekday:"short",hour:"2-digit",minute:"2-digit"})})]}),(0,a.jsx)("button",{className:"btn btn-outline-light btn-sm ms-auto me-1",type:"button",onClick:()=>h(r),children:(0,a.jsx)("i",{className:"bi bi-save"})}),(0,a.jsx)(M,{})]}),(0,a.jsxs)("div",{className:"mw-100vw",children:[(0,a.jsx)(z,{children:(0,a.jsx)(P,{children:e&&(0,a.jsx)(A,{})})}),t&&(0,a.jsx)(O,{}),s&&(0,a.jsx)(B,{})]})]})},M=()=>{let[e,t]=(0,l.useState)(""),{selectedUnits:s,setSelectedUnits:i,setUserLocation:n,savedLocations:r,setSavedLocations:o}=(0,l.useContext)(F),c=(0,l.useRef)(s),m=(0,l.useRef)(null),d=async e=>{e.preventDefault(),console.log("search submitted:",m.current.value);let t=await y(m.current.value);console.log("search results:",t),n(t),e.target.value=""},h=e=>{console.log("remove id:",e),v(e),o(()=>_())},u=async e=>{console.log("use saved location:",e);let t=await b(e);console.log("location:",t),n({coords:{...t.coordinates}})};return(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{className:"btn btn-outline-light btn-sm",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvas","aria-controls":"offcanvasExample",children:(0,a.jsx)("i",{className:"bi bi-gear"})}),(0,a.jsxs)("div",{className:"offcanvas offcanvas-start bg-dark text-white",tabIndex:"-1",id:"offcanvas","aria-labelledby":"offcanvasLabel",children:[(0,a.jsxs)("div",{className:"offcanvas-header",children:[(0,a.jsx)("h5",{className:"offcanvas-title",id:"offcanvasLabel",children:"Settings"}),(0,a.jsx)("button",{type:"button",className:"btn-close text-reset btn-close-white","data-bs-dismiss":"offcanvas","aria-label":"Close"})]}),(0,a.jsxs)("div",{className:"offcanvas-body d-flex flex-column",children:[(0,a.jsx)("label",{htmlFor:"unitsSelect",className:"form-label",children:"Select units:"}),(0,a.jsxs)("select",{className:"form-select mb-3",value:c.current,onChange:e=>{console.log("selected:",e.target.value);let t=e.target.value;c.current=t,i(t)},id:"unitsSelect","aria-label":"Choose measurement units",children:[(0,a.jsx)("option",{value:"imperial",children:"Imperial"}),(0,a.jsx)("option",{value:"metric",children:"Metric"})]}),(0,a.jsxs)("div",{className:"input-group mb-3",children:[(0,a.jsx)("input",{type:"text",className:"form-control",ref:m,placeholder:"Seach by city or zip code","aria-label":"Search by city of zip code"}),(0,a.jsx)("button",{className:"btn btn-outline-light",type:"submit",onClick:d,children:"Search"})]}),(0,a.jsxs)("div",{className:"d-flex flex-column mb-3",children:[(0,a.jsx)("p",{className:"mb-3 mt-5",children:"Saved Locations:"}),(0,a.jsx)("ul",{className:"list-unstyled overflow-y-auto mb-0",children:r.map((e,t)=>(console.log("item:",e),(0,a.jsxs)("li",{className:"d-flex flex-row card bg-secondary text-white justify-content-between align-items-center p-1 mb-1",children:[(0,a.jsx)("p",{className:"mb-0 ms-1 flex-fill",onClick:()=>u(e.key),children:e.value.city}),(0,a.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>{h(e.key)},children:(0,a.jsx)("i",{className:"bi bi-x"})})]},t)))}),(0,a.jsx)("p",{className:"text-white",children:(0,a.jsx)("small",{children:(0,a.jsx)("em",{children:"Up to 5 locations max."})})})]}),(0,a.jsxs)("div",{className:"mt-auto text-white",children:[(0,a.jsx)("p",{className:"mb-1",children:(0,a.jsxs)("small",{children:["Weather data powered by ",(0,a.jsx)("a",{href:"https://open-meteo.com/",className:"text-light",target:"_blank",rel:"noopener noreferrer",children:"Open-Meteo.com"})]})}),(0,a.jsx)("p",{className:"mb-1",children:(0,a.jsxs)("small",{children:["Geocoding powered by ",(0,a.jsx)("a",{href:"https://www.openstreetmap.org",className:"text-light",target:"_blank",rel:"noopener noreferrer",children:"OpenStreetMap.org"})]})})]})]})]})]})},O=()=>{let{selectedDayObj:e,setCurrentVisible:t,setSelectedDayVisible:s,setSelectedDayObj:n}=(0,l.useContext)(S),{unitsObj:r}=(0,l.useContext)(F),o=new Date(e.time).toLocaleDateString("en-US",{month:"long",day:"numeric",weekday:"short"});return(0,a.jsxs)("div",{className:"d-flex flex-column px-3",children:[(0,a.jsxs)("div",{className:"m-auto container-lg mw-960px h-max-c card glass text-white mt-0 px-3 py-2 mb-5",children:[(0,a.jsxs)("h2",{className:"mb-4",children:["Conditions for: ",o]}),(0,a.jsxs)("div",{className:"d-flex flex-md-row flex-column w-auto",children:[(0,a.jsxs)("ul",{className:"list-unstyled col-md-6 col-12 listItemBorder mb-0 p-0 pe-2",children:[(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/hot.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"High"}),(0,a.jsxs)("p",{className:"ms-auto fw-bold",children:[parseInt(e.temperature_2m_max),"\xb0"]})]}),(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/cold.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"Low"}),(0,a.jsxs)("p",{className:"ms-auto fw-bold",children:[parseInt(e.temperature_2m_min),"\xb0"]})]}),(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/sunrise.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"Sunrise"}),(0,a.jsx)("p",{className:"ms-auto fw-bold",children:g(e.sunrise)})]}),(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/sunset.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"Sunset"}),(0,a.jsx)("p",{className:"ms-auto fw-bold",children:g(e.sunset)})]})]}),(0,a.jsxs)("ul",{className:"list-unstyled col-md-6 col-12 listItemBorder listItemBorderAll mb-0 p-0",children:[(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/sunclouds.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"UV Index"}),(0,a.jsx)("p",{className:"ms-auto fw-bold",children:e.uv_index_max})]}),(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/humidity.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"Precip %"}),(0,a.jsxs)("p",{className:"ms-auto fw-bold",children:[e.precipitation_probability_max,"%"]})]}),(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/drop.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"Precip Total"}),(0,a.jsxs)("p",{className:"ms-auto fw-bold",children:[e.precipitation_sum," ",r.precipitation]})]}),(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/wind-flag.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"Wind"}),(0,a.jsxs)("p",{className:"ms-auto fw-bold",children:[e.wind_speed_10m_max," ",r.windSpeed]})]})]})]})]}),(0,a.jsx)("button",{className:"btn btn-outline-light mx-auto container-lg mw-960px",onClick:()=>{n(null),s(!1),t(!0)},children:"Back To Current Weather"})]})},B=()=>{let{setCurrentVisible:e,selectedHourObj:t,setSelectedHourObj:s,setSelectedHourVisible:n}=(0,l.useContext)(S),{unitsObj:r}=(0,l.useContext)(F);console.log("SelectedHour data:",t);let o=p(t.weather_code),c=x(t,o),m=new Date(t.time);return(0,a.jsxs)("div",{className:"d-flex flex-column p-3",children:[(0,a.jsxs)("div",{className:"d-flex flex-column card glass mb-5 text-white container-lg mw-960px",children:[(0,a.jsxs)("h3",{className:"text-start mx-2 mt-4",children:["Conditions for: ",(0,a.jsx)("span",{className:"fw-bold",children:g(t.time)})]}),(0,a.jsx)("p",{className:"mx-2",children:m.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",weekday:"short"})}),(0,a.jsxs)("div",{className:"d-flex flex-md-row flex-column",children:[(0,a.jsxs)("div",{className:"d-flex flex-row col-md-6 col-12 p-5 justify-content-center align-items-center",children:[(0,a.jsx)(i.default,{src:c,className:"me-3",height:512,width:512,style:{width:"auto",height:"auto",objectFit:"contain",maxWidth:"50%"},alt:"weather icon"}),(0,a.jsx)("p",{className:"fs-vw-1",children:parseInt(t.temperature_2m)})]}),(0,a.jsx)("div",{className:"d-flex m-auto col-md-5 justify-content-center align-items-center text-center text-white p-5",children:(0,a.jsxs)("div",{className:"d-flex flex-column fs-3 fw-light my-auto",children:[(0,a.jsx)("p",{children:o.description}),(0,a.jsxs)("p",{children:["Feels like ",parseInt(t.apparent_temperature),"\xb0"]})]})})]}),(0,a.jsxs)("div",{className:"d-flex row p-3",children:[(0,a.jsxs)("ul",{className:"list-unstyled col-md-6 col-12 listItemBorder mb-0 p-0 px-2",children:[(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/sunclouds.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"Humidity"}),(0,a.jsxs)("p",{className:"ms-auto fw-bold",children:[parseInt(t.relative_humidity_2m),"%"]})]}),(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/drop.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"Precipitation"}),(0,a.jsxs)("p",{className:"ms-auto fw-bold",children:[parseInt(t.precipitation)," ",r.precipitation]})]}),(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/humidity.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"Precipitation %"}),(0,a.jsxs)("p",{className:"ms-auto fw-bold",children:[parseInt(t.precipitation_probability),"%"]})]})]}),(0,a.jsxs)("ul",{className:"list-unstyled col-md-6 col-12 listItemBorder listItemBorderAll mb-0 p-0 px-2",children:[(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/rainbow.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"Visibility"}),(0,a.jsxs)("p",{className:"ms-auto fw-bold",children:[parseInt(t.visibility)," m"]})]}),(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/wind-flag.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"Wind"}),(0,a.jsxs)("p",{className:"ms-auto fw-bold",children:[parseInt(t.wind_speed_10m)," ",r.windSpeed]})]}),(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/doublecloud.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"Cloud cover"}),(0,a.jsxs)("p",{className:"ms-auto fw-bold",children:[parseInt(t.cloud_cover),"%"]})]})]})]})]}),(0,a.jsx)("button",{className:"btn btn-outline-light container-lg mw-960px",onClick:()=>{s(null),n(!1),e(!0)},children:"Back To Current Weather"})]})},A=()=>{let{value:e}=(0,l.useContext)(C),{dailyData:t}=(0,l.useContext)(k),{unitsObj:s}=(0,l.useContext)(F),n=p(e.weather_code),r=x(e,n),o=parseInt(t[0].temperature_2m_max),c=parseInt(t[0].temperature_2m_min);return(0,a.jsxs)("div",{className:"d-flex row text-white h-100 p-3",id:"currentWeatherWrapper",children:[(0,a.jsx)("div",{className:"p-3",children:(0,a.jsxs)("div",{className:"d-flex flex-md-row flex-column card glass p-2 mb-5",children:[(0,a.jsxs)("div",{className:"d-flex flex-row col-md-6 col-12 p-2 justify-content-center text-white align-items-center",children:[(0,a.jsx)(i.default,{src:r,className:"me-3",height:512,width:512,style:{width:"auto",height:"auto",objectFit:"contain",maxWidth:"50%"},alt:"weather icon"}),(0,a.jsxs)("p",{className:"fs-vw-1",children:[parseInt(e.temperature_2m),s.temperature]})]}),(0,a.jsx)("div",{className:"d-flex ms-auto col-md-5 col-12 justify-content-start align-items-center text-center text-white p-2",children:(0,a.jsxs)("div",{className:"d-flex flex-column fs-3 fw-light m-auto",children:[(0,a.jsx)("p",{children:n.description}),(0,a.jsxs)("p",{children:[o,"\xb0/",c,"\xb0"]}),(0,a.jsxs)("p",{className:"mb-0",children:["Feels like ",parseInt(e.apparent_temperature),"\xb0"]})]})})]})}),(0,a.jsx)(W,{children:(0,a.jsx)(H,{})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(z,{children:(0,a.jsx)(R,{})}),(0,a.jsx)(P,{children:(0,a.jsx)(U,{})})]})]})},H=()=>{let{value:e}=(0,l.useContext)(I),{setSelectedHourObj:t,setCurrentVisible:s}=(0,l.useContext)(S),{currentWeather:n,setCurrentWeather:r}=(0,l.useContext)(F),[o,c]=(0,l.useState)(!1),m=u(n.time,e),d=s=>{t(()=>(console.log("the selectedHourObj for ".concat(s," is:"),e[s]),m[s]))};return console.log("hourly weather value:",e),(0,a.jsxs)("div",{className:"d-flex flex-column px-0 w-auto mb-5 ps-3",children:[(0,a.jsx)("h2",{className:"mb-3",children:"Hourly Weather"}),(0,a.jsx)("ul",{className:"list-unstyled d-flex flex-row gap-2 mb-0 p-0 py-3 overflow-x-auto hidescrollbar    hidescrollbar-ff hidescrollbar::-webkit-scrollbar",children:Array.isArray(m)&&m.map((e,t)=>{let l=p(e.weather_code),n=x(e,l);return(0,a.jsxs)("li",{className:"card d-flex flex-column flex-grow p-3 glass text-white \n              justify-content-center text-center w-10vw ".concat(o===t?"hovered":""),onMouseEnter:()=>{c(t)},onMouseLeave:()=>{c(null)},onClick:()=>{s(!1),d(t)},children:[(0,a.jsx)("p",{className:"my-2",children:g(e.time)}),(0,a.jsx)(i.default,{src:n,className:"mx-auto w-50 my-2",height:512,width:512,layout:"responsive",alt:"weather icon"}),(0,a.jsxs)("p",{className:"my-2",children:[parseInt(e.temperature_2m),"\xb0"]})]},t)})})]})},R=()=>{let{value:e}=(0,l.useContext)(C),{dailyData:t}=(0,l.useContext)(k),{unitsObj:s}=(0,l.useContext)(F),n=t[0];return(0,a.jsxs)("div",{className:"m-auto container-sm h-max-c card glass text-white mt-0 px-3 py-2 mb-5",children:[(0,a.jsx)("h2",{children:"Today's Conditions"}),(0,a.jsxs)("div",{className:"d-flex flex-column flex-lg-row w-auto",children:[(0,a.jsxs)("ul",{className:"list-unstyled col-lg-6 col-12 listItemBorder mb-0 p-0 pe-2",children:[(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/hot.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"High"}),(0,a.jsxs)("p",{className:"ms-auto fw-bold",children:[parseInt(n.temperature_2m_max),"\xb0"]})]}),(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/cold.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"Low"}),(0,a.jsxs)("p",{className:"ms-auto fw-bold",children:[parseInt(n.temperature_2m_min),"\xb0"]})]}),(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/sunrise.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"Sunrise"}),(0,a.jsx)("p",{className:"ms-auto fw-bold",children:g(n.sunrise)})]}),(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/sunset.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"Sunset"}),(0,a.jsx)("p",{className:"ms-auto fw-bold",children:g(n.sunset)})]})]}),(0,a.jsxs)("ul",{className:"list-unstyled col-lg-6 col-12 listItemBorder listItemBorderAll mb-0 p-0",children:[(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/sunclouds.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"UV Index"}),(0,a.jsx)("p",{className:"ms-auto fw-bold",children:n.uv_index_max})]}),(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/humidity.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"Precip %"}),(0,a.jsxs)("p",{className:"ms-auto fw-bold",children:[n.precipitation_probability_max,"%"]})]}),(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/drop.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"Precip Total"}),(0,a.jsxs)("p",{className:"ms-auto fw-bold",children:[n.precipitation_sum," ",s.precipitation]})]}),(0,a.jsxs)("li",{className:"d-flex flex-row align-items-center py-2",children:[(0,a.jsx)(i.default,{src:"/images/wind-flag.png",className:"me-1 mw-img",height:512,width:512,style:{objectFit:"contain",height:"auto"},alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 my-auto",children:"Wind"}),(0,a.jsxs)("p",{className:"ms-auto fw-bold",children:[n.wind_speed_10m_max," ",s.windSpeed]})]})]})]})]})},U=()=>{let[e,t]=(0,l.useState)(!1),{dailyData:s,setDailyData:n}=(0,l.useContext)(k),{setCurrentVisible:r,setSelectedDayObj:o}=(0,l.useContext)(S),c=s.slice(0,6),m=e?s:c;console.log("ExtendedForecast - dailyData:",s);let d=(0,l.useRef)(!1),u=e=>{o(()=>m[e])};return(0,a.jsx)("div",{className:"m-auto container-md mw-960px",children:(0,a.jsxs)("div",{className:"d-flex flex-row row",children:[(0,a.jsx)("h2",{className:"mb-3",children:"Extended Forecast"}),(0,a.jsx)("ul",{className:"list-unstyled col-12 gap-2 p-0",children:m.map((e,t)=>{let s=p(e.weather_code),l=x(e,s);return(0,a.jsxs)("li",{className:"card glass px-3 py-4 d-flex flex-row align-items-center text-white mb-2",onClick:()=>{r(!1),console.log("day clicked..."),u(t)},children:[(0,a.jsx)(i.default,{src:l,className:"me-3 mw-img",height:512,width:512,layout:"responsive",alt:"weather icon"}),(0,a.jsx)("p",{className:"ms-2 mb-0",children:h(e.time)}),(0,a.jsxs)("p",{className:"ms-auto mb-0 fs-2",children:[parseInt(e.temperature_2m_max),"\xb0/",parseInt(e.temperature_2m_min),"\xb0"]})]},t)})}),(0,a.jsx)("button",{className:"btn btn-outline-light mb-3",onClick:()=>{d.current?(t(!1),d.current=!1):(t(!0),d.current=!0)},children:d.current?"See less":"See more"})]})})}},347:()=>{}}]);